{"version":3,"sources":["firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","components/Avatar.js","components/EventList.js","hooks/useCollection.js","pages/dashboard/EventFilter.js","pages/dashboard/Dashboard.js","hooks/useFirestore.js","pages/create/Create.js","pages/login/Login.js","hooks/useLogin.js","pages/signup/Signup.js","hooks/useSignup.js","pages/event/EventSummary.js","pages/event/EventComments.js","pages/event/Event.js","hooks/useDocument.js","hooks/useLogout.js","assets/boxing-glove.svg","components/Navbar.js","assets/dashboard_icon.svg","assets/add_icon.svg","components/Sidebar.js","components/OnlineUsers.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","projectStorage","storage","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","Avatar","src","className","alt","EventList","events","length","map","event","to","id","eventName","date","toDate","toDateString","assignedFightersList","photoURL","useCollection","collection","_query","_orderBy","useState","documents","setDocuments","error","setError","query","useRef","current","orderBy","ref","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","doc","push","data","filterList","EventFilter","currentFilter","changeFilter","f","onClick","Dashboard","setCurrentFilter","filter","document","assignedToMe","weightClass","u","uid","newFilter","initialState","isPending","success","firestoreReducer","useFirestore","response","isCancelled","setIsCancelled","dispatchIfNotCancelled","addDocument","a","createdAt","fromDate","Date","add","addedDocument","message","deleteDocument","delete","updateDocument","updates","update","weightClasses","label","promoters","Create","history","useHistory","users","setUsers","setEventName","eventPromoter","setEventPromoter","details","setDetails","setDate","setWeightClass","assignedFighters","setAssignedFighters","formError","setFormError","displayName","handleSubmit","e","preventDefault","createdBy","comments","onSubmit","required","onChange","target","options","option","isMulti","Login","email","setEmail","password","setPassword","setIsPending","login","signInWithEmailAndPassword","res","documentRef","online","useLogin","disabled","Signup","setDisplayName","thumbnail","setThumbnail","thumbnailError","setThumbnailError","signup","createUserWithEmailAndPassword","uploadPath","name","put","img","getDownloadURL","imgUrl","updateProfile","set","useSignup","selected","files","includes","size","EventSummary","EventComments","newComment","setNewComment","commentToAdd","content","Math","random","comment","formatDistanceToNow","addSuffix","Event","setDocument","err","useDocument","useParams","Navbar","logout","currentUser","signOut","useLogout","Gloves","Sidebar","exact","DashboardIcon","AddIcon","OnlineUsers","App","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.eb06ea3a.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\nimport \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBDOkoYNDY1Q_7pQ6vgCXJa6EXluyoRl00\",\n  authDomain: \"fightlife-3373d.firebaseapp.com\",\n  projectId: \"fightlife-3373d\",\n  storageBucket: \"fightlife-3373d.appspot.com\",\n  messagingSenderId: \"1040222729659\",\n  appId: \"1:1040222729659:web:7b4e89d53129d1c4c3009e\",\n};\n\n// init firebase\nfirebase.initializeApp(firebaseConfig);\n\n// init services\nconst projectFirestore = firebase.firestore();\nconst projectAuth = firebase.auth();\nconst projectStorage = firebase.storage();\n\n// timestamp\nconst timestamp = firebase.firestore.Timestamp;\n\nexport { projectFirestore, projectAuth, projectStorage, timestamp };\n","import { createContext, useReducer, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\n\nexport const AuthContext = createContext()\n\nexport const authReducer = (state, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return { ...state, user: action.payload }\n    case 'LOGOUT':\n      return { ...state, user: null }\n    case 'AUTH_IS_READY':\n      return { user: action.payload, authIsReady: true }\n    default:\n      return state\n  }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, { \n    user: null,\n    authIsReady: false\n  })\n\n  useEffect(() => {\n    const unsub = projectAuth.onAuthStateChanged(user => {\n      dispatch({ type: 'AUTH_IS_READY', payload: user })\n      unsub()\n    })\n  }, [])\n\n  console.log('AuthContext state:', state)\n  \n  return (\n    <AuthContext.Provider value={{ ...state, dispatch }}>\n      { children }\n    </AuthContext.Provider>\n  )\n\n}","import { AuthContext } from \"../context/AuthContext\"\nimport { useContext } from \"react\"\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext)\n\n  if(!context) {\n    throw Error('useAuthContext must be used inside an AuthContextProvider')\n  }\n\n  return context\n}","// styles\nimport \"./Avatar.css\";\n\nexport default function Avatar({ src }) {\n  return (\n    <div className=\"avatar\">\n      <img src={src} alt=\"user avatar\" />\n    </div>\n  );\n}\n","import { Link } from \"react-router-dom\";\nimport Avatar from \"./Avatar\";\n\n// styles\nimport \"./EventList.css\";\n\nexport default function EventList({ events }) {\n  console.log(events);\n  return (\n    <div className=\"event-list\">\n      {events.length === 0 && <p>No events yet!</p>}\n      {events.map((event) => (\n        <Link to={`/events/${event.id}`} key={event.id}>\n          <h4>{event.eventName}</h4>\n          <p>{event.date.toDate().toDateString()}</p>\n          <div className=\"assigned-fighters\">\n            <ul>\n              {event.assignedFightersList.map((user) => (\n                <li key={user.photoURL}>\n                  <Avatar src={user.photoURL} />\n                </li>\n              ))}\n            </ul>\n          </div>\n        </Link>\n      ))}\n    </div>\n  );\n}\n","import { useEffect, useState, useRef } from \"react\"\nimport { projectFirestore } from \"../firebase/config\"\n\nexport const useCollection = (collection, _query, _orderBy) => {\n  const [documents, setDocuments] = useState(null)\n  const [error, setError] = useState(null)\n\n  // if we don't use a ref --> infinite loop in useEffect\n  // _query is an array and is \"different\" on every function call\n  const query = useRef(_query).current\n  const orderBy = useRef(_orderBy).current\n\n  useEffect(() => {\n    let ref = projectFirestore.collection(collection)\n\n    if (query) {\n      ref = ref.where(...query)\n    }\n    if (orderBy) {\n      ref = ref.orderBy(...orderBy)\n    }\n\n    const unsubscribe = ref.onSnapshot(snapshot => {\n      let results = []\n      snapshot.docs.forEach(doc => {\n        results.push({...doc.data(), id: doc.id})\n      });\n      \n      // update state\n      setDocuments(results)\n      setError(null)\n    }, error => {\n      console.log(error)\n      setError('could not fetch the data')\n    })\n\n    // unsubscribe on unmount\n    return () => unsubscribe()\n\n  }, [collection, query, orderBy])\n\n  return { documents, error }\n}","const filterList = [\n  \"all\",\n  \"mine\",\n  \"lightweight\",\n  \"welterweight\",\n  \"middleweight\",\n  \"heavyweight\",\n];\n\nexport default function EventFilter({ currentFilter, changeFilter }) {\n  const handleClick = (newFilter) => {\n    changeFilter(newFilter);\n  };\n\n  return (\n    <div className=\"event-filter\">\n      <nav>\n        <p>Filter by:</p>\n        {filterList.map((f) => (\n          <button\n            key={f}\n            onClick={() => handleClick(f)}\n            // when the current filter matches f, apply a class of active\n            className={currentFilter === f ? \"active\" : \"\"}\n          >\n            {f}\n          </button>\n        ))}\n      </nav>\n    </div>\n  );\n}\n","import EventList from \"../../components/EventList\";\nimport { useCollection } from \"../../hooks/useCollection\";\nimport EventFilter from \"./EventFilter\";\nimport { useState } from \"react\";\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\n\n// Styles\nimport \"./Dashboard.css\";\n\nexport default function Dashboard() {\n  const { user } = useAuthContext();\n  const { documents, error } = useCollection(\"events\");\n  const [currentFilter, setCurrentFilter] = useState(\"all\");\n\n  const changeFilter = (newFilter) => {\n    setCurrentFilter(newFilter);\n  };\n\n  const events = documents\n    ? documents.filter((document) => {\n        switch (currentFilter) {\n          case \"all\":\n            return true;\n          case \"mine\":\n            let assignedToMe = false;\n            console.log(document.weightClass);\n            document.assignedFightersList.forEach((u) => {\n              if (user.uid === u.id) {\n                assignedToMe = true;\n              }\n            });\n            return assignedToMe;\n          case \"lightweight\":\n          case \"welterweight\":\n          case \"middleweight\":\n          case \"heavyweight\":\n            console.log(document.weightClass, currentFilter);\n            return document.weightClass === currentFilter;\n          default:\n            return true;\n        }\n      })\n    : null;\n\n  return (\n    <div>\n      <h2 className=\"page-title\">Dashboard</h2>\n\n      {error && <p className=\"error\">{error}</p>}\n\n      {documents && (\n        <EventFilter\n          currentFilter={currentFilter}\n          changeFilter={changeFilter}\n        />\n      )}\n\n      {documents && <EventList events={events} />}\n    </div>\n  );\n}\n","import { useReducer, useEffect, useState } from \"react\";\nimport { projectFirestore, timestamp } from \"../firebase/config\";\n\nlet initialState = {\n  document: null,\n  isPending: false,\n  error: null,\n  success: null,\n};\n\nconst firestoreReducer = (state, action) => {\n  switch (action.type) {\n    case \"IS_PENDING\":\n      return { isPending: true, document: null, success: false, error: null };\n    case \"ADDED_DOCUMENT\":\n      return {\n        isPending: false,\n        document: action.payload,\n        success: true,\n        error: null,\n      };\n    case \"DELETED_DOCUMENT\":\n      return { isPending: false, document: null, success: true, error: null };\n    case \"UPDATED_DOCUMENT\":\n      return {\n        isPending: false,\n        document: action.payload,\n        success: true,\n        error: null,\n      };\n    case \"ERROR\":\n      return {\n        isPending: false,\n        document: null,\n        success: false,\n        error: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const useFirestore = (collection) => {\n  const [response, dispatch] = useReducer(firestoreReducer, initialState);\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  // collection ref\n  const ref = projectFirestore.collection(collection);\n\n  // only dispatch is not cancelled\n  const dispatchIfNotCancelled = (action) => {\n    if (!isCancelled) {\n      dispatch(action);\n    }\n  };\n\n  // add a document\n  const addDocument = async (doc) => {\n    dispatch({ type: \"IS_PENDING\" });\n\n    try {\n      const createdAt = timestamp.fromDate(new Date());\n      const addedDocument = await ref.add({ ...doc, createdAt });\n      dispatchIfNotCancelled({\n        type: \"ADDED_DOCUMENT\",\n        payload: addedDocument,\n      });\n    } catch (err) {\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: err.message });\n    }\n  };\n\n  // delete a document\n  const deleteDocument = async (id) => {\n    dispatch({ type: \"IS_PENDING\" });\n\n    try {\n      await ref.doc(id).delete();\n      dispatchIfNotCancelled({ type: \"DELETED_DOCUMENT\" });\n    } catch (err) {\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: \"could not delete\" });\n    }\n  };\n\n  // update documents\n  const updateDocument = async (id, updates) => {\n    dispatch({ type: \"IS_PENDING\" });\n\n    try {\n      const updateDocument = await ref.doc(id).update(updates);\n      dispatchIfNotCancelled({\n        type: \"UPDATED_DOCUMENT\",\n        payload: updateDocument,\n      });\n      return updateDocument;\n    } catch (err) {\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: err.message });\n      return null;\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { addDocument, deleteDocument, updateDocument, response };\n};\n","import { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\nimport { useCollection } from \"../../hooks/useCollection\";\nimport { timestamp } from \"../../firebase/config\";\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\nimport { useFirestore } from \"../../hooks/useFirestore\";\nimport { useHistory } from \"react-router-dom\";\n\n// Styles\nimport \"./Create.css\";\n\nconst weightClasses = [\n  { value: \"lightweight\", label: \"Lightweight\" },\n  { value: \"welterweight\", label: \"Welterweight\" },\n  { value: \"middleweight\", label: \"Middleweight\" },\n  { value: \"heavyweight\", label: \"Heavyweight\" },\n];\n\nconst promoters = [\n  { value: \"dazn\", label: \"DAZN\" },\n  { value: \"showtime\", label: \"Showtime Boxing\" },\n  { value: \"hbo\", label: \"HBO Boxing\" },\n  { value: \"triller\", label: \"Triller\" },\n];\n\nexport default function Create() {\n  const history = useHistory();\n  const { addDocument, response } = useFirestore(\"events\");\n  const { documents } = useCollection(\"users\");\n  const { user } = useAuthContext();\n  const [users, setUsers] = useState([]);\n\n  // form field states and values\n  const [eventName, setEventName] = useState(\"\");\n  const [eventPromoter, setEventPromoter] = useState(\"\");\n  const [details, setDetails] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [weightClass, setWeightClass] = useState(\"\");\n  const [assignedFighters, setAssignedFighters] = useState([]);\n  const [formError, setFormError] = useState(null);\n\n  useEffect(() => {\n    if (documents) {\n      setUsers(\n        documents.map((user) => {\n          return { value: { ...user, id: user.id }, label: user.displayName };\n        })\n      );\n    }\n  }, [documents]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setFormError(null);\n\n    // Substitutes for 'required'\n    if (!weightClass) {\n      setFormError(\"Please select a weight class\");\n      return;\n    }\n    if (!eventPromoter) {\n      setFormError(\"Please select an event promoter\");\n      return;\n    }\n    if (assignedFighters.length < 1) {\n      setFormError(\"Please assign the event to at least 1 fighter\");\n      return;\n    }\n\n    const assignedFightersList = assignedFighters.map((u) => {\n      return {\n        displayName: u.value.displayName,\n        photoURL: u.value.photoURL,\n        id: u.value.id,\n      };\n    });\n\n    const createdBy = {\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      id: user.uid,\n    };\n\n    const event = {\n      eventName,\n      eventPromoter: eventPromoter.value,\n      details,\n      weightClass: weightClass.value,\n      date: timestamp.fromDate(new Date(date)),\n      createdBy,\n      assignedFightersList,\n      comments: [],\n    };\n\n    await addDocument(event);\n\n    if (!response.error) {\n      history.push(\"/\");\n    }\n  };\n\n  return (\n    <div className=\"create-form\">\n      <h2 className=\"page-title\">Create a new event</h2>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>Event Name:</span>\n          <input\n            required\n            type=\"text\"\n            onChange={(e) => setEventName(e.target.value)}\n            value={eventName}\n          />\n        </label>\n        <label>\n          <span>Event Details:</span>\n          <textarea\n            required\n            type=\"text\"\n            onChange={(e) => setDetails(e.target.value)}\n            value={details}\n          ></textarea>\n        </label>\n        <label>\n          <span>Event Date:</span>\n          <input\n            required\n            type=\"date\"\n            onChange={(e) => setDate(e.target.value)}\n            value={date}\n          />\n        </label>\n        <label>\n          <span>Promoter:</span>\n          <Select\n            options={promoters}\n            onChange={(option) => setEventPromoter(option)}\n          />\n        </label>\n        <label>\n          <span>Weight Class:</span>\n          <Select\n            options={weightClasses}\n            onChange={(option) => setWeightClass(option)}\n          />\n        </label>\n        <label>\n          <span>Select Boxers:</span>\n          <Select\n            onChange={(option) => setAssignedFighters(option)}\n            options={users}\n            isMulti\n          />\n        </label>\n\n        <button className=\"btn\">Add Event</button>\n        {formError && <p className=\"error\">{formError}</p>}\n      </form>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport { useLogin } from \"../../hooks/useLogin\";\n\n// Styles\nimport \"./Login.css\";\n\nexport default function Login() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const { login, isPending, error } = useLogin();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    login(email, password);\n  };\n\n  return (\n    <form className=\"auth-form\" onSubmit={handleSubmit}>\n      <h2>Login</h2>\n      <label>\n        <span>email:</span>\n        <input\n          required\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n\n      <label>\n        <span>password:</span>\n        <input\n          required\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n\n      {!isPending && <button className=\"btn\">Login</button>}\n      {isPending && (\n        <button disabled className=\"btn\">\n          Loading\n        </button>\n      )}\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport { projectAuth, projectFirestore } from \"../firebase/config\";\nimport { useAuthContext } from \"./useAuthContext\";\n\nexport const useLogin = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n\n  const login = async (email, password) => {\n    setError(null);\n    setIsPending(true);\n\n    try {\n      // login\n      const res = await projectAuth.signInWithEmailAndPassword(email, password);\n\n      // update online status\n      const documentRef = projectFirestore\n        .collection(\"users\")\n        .doc(res.user.uid);\n      await documentRef.update({ online: true });\n\n      // dispatch login action\n      dispatch({ type: \"LOGIN\", payload: res.user });\n\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { login, isPending, error };\n};\n","import { useState } from \"react\";\nimport { useSignup } from \"../../hooks/useSignup\";\n\n// Styles\nimport \"./Signup.css\";\n\nexport default function Signup() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [displayName, setDisplayName] = useState(\"\");\n  const [thumbnail, setThumbnail] = useState(null);\n  const [thumbnailError, setThumbnailError] = useState(null);\n  const { signup, isPending, error } = useSignup();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    signup(email, password, displayName, thumbnail);\n  };\n\n  const handleFileChange = (e) => {\n    setThumbnail(null);\n    let selected = e.target.files[0];\n    console.log(selected);\n\n    if (!selected) {\n      setThumbnailError(\"Please select a file\");\n      return;\n    }\n\n    if (!selected.type.includes(\"image\")) {\n      setThumbnailError(\"Selected file must be an image\");\n      return;\n    }\n\n    if (selected.size > 100000) {\n      setThumbnailError(\"Image file size must be less than 100kb\");\n      return;\n    }\n\n    setThumbnailError(null);\n    setThumbnail(selected);\n    console.log(\"thumbnail updated\");\n  };\n\n  return (\n    <form className=\"auth-form\" onSubmit={handleSubmit}>\n      <h2>Sign up</h2>\n      <label>\n        <span>email:</span>\n        <input\n          required\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input\n          required\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n      <label>\n        <span>display name:</span>\n        <input\n          required\n          type=\"text\"\n          onChange={(e) => setDisplayName(e.target.value)}\n          value={displayName}\n        />\n      </label>\n      <label>\n        <span>profile picture:</span>\n        <input required type=\"file\" onChange={handleFileChange} />\n        {thumbnailError && <div className=\"error\">{thumbnailError}</div>}\n      </label>\n      {!isPending && <button className=\"btn\">Sign up</button>}\n      {isPending && (\n        <button disabled className=\"btn\">\n          Loading\n        </button>\n      )}\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport {\n  projectAuth,\n  projectStorage,\n  projectFirestore,\n} from \"../firebase/config\";\nimport { useAuthContext } from \"./useAuthContext\";\n\nexport const useSignup = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n\n  const signup = async (email, password, displayName, thumbnail) => {\n    setError(null);\n    setIsPending(true);\n\n    try {\n      // signup\n      const res = await projectAuth.createUserWithEmailAndPassword(\n        email,\n        password\n      );\n\n      if (!res) {\n        throw new Error(\"Could not complete signup\");\n      }\n\n      // upload user thumbnail\n      const uploadPath = `thumbnails/${res.user.uid}/${thumbnail.name}`;\n      const img = await projectStorage.ref(uploadPath).put(thumbnail);\n      const imgUrl = await img.ref.getDownloadURL();\n\n      // add display AND PHOTO_URL name to user\n      await res.user.updateProfile({ displayName, photoURL: imgUrl });\n\n      // create a user document\n      await projectFirestore.collection(\"users\").doc(res.user.uid).set({\n        online: true,\n        displayName,\n        photoURL: imgUrl,\n      });\n\n      // dispatch login action\n      dispatch({ type: \"LOGIN\", payload: res.user });\n\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { signup, error, isPending };\n};\n","import Avatar from \"../../components/Avatar\";\nimport { useFirestore } from \"../../hooks/useFirestore\";\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function EventSummary({ event }) {\n  const { deleteDocument } = useFirestore(\"events\");\n  const { user } = useAuthContext();\n  const history = useHistory();\n\n  const handleClick = (e) => {\n    deleteDocument(event.id);\n    history.push(\"/\");\n  };\n  return (\n    <div>\n      <div className=\"event-summary\">\n        <h2 className=\"page-title\">{event.eventName}</h2>\n        <p>By {event.createdBy.displayName}</p>\n        <p className=\"date\">\n          It's going down on {event.date.toDate().toDateString()}\n        </p>\n        <p className=\"details\">{event.details}</p>\n        <h4>Fighters attending this event:</h4>\n        <div className=\"assigned-fighters\">\n          {event.assignedFightersList.map((user) => (\n            <div key={user.id}>\n              <Avatar src={user.photoURL} />\n            </div>\n          ))}\n        </div>\n      </div>\n      {/* {user.uid === event.createdBy.id && ( */}\n      <button className=\"btn\" onClick={handleClick}>\n        Cancel Fight\n      </button>\n      {/* )} */}\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport Avatar from \"../../components/Avatar\";\nimport { projectAuth, timestamp } from \"../../firebase/config\";\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\nimport { useFirestore } from \"../../hooks/useFirestore\";\nimport formatDistanceToNow from \"date-fns/formatDistanceToNow\";\n\nexport default function EventComments({ event }) {\n  const { updateDocument, response } = useFirestore(\"events\");\n  const [newComment, setNewComment] = useState(\"\");\n  const { user } = useAuthContext();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const commentToAdd = {\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      content: newComment,\n      createdAt: timestamp.fromDate(new Date()),\n      id: Math.random(),\n    };\n\n    await updateDocument(event.id, {\n      comments: [...event.comments, commentToAdd],\n    });\n    if (!response.error) {\n      setNewComment(\"\");\n    }\n  };\n\n  return (\n    <div className=\"event-comments\">\n      <h4>Event Comments</h4>\n\n      <ul>\n        {event.comments.length > 0 &&\n          event.comments.map((comment) => (\n            <li key={comment.id}>\n              <div className=\"comment-author\">\n                <Avatar src={comment.photoURL} />\n                <p>{comment.displayName}</p>\n              </div>\n              <div className=\"comment-date\">\n                <p>\n                  {formatDistanceToNow(comment.createdAt.toDate(), {\n                    addSuffix: true,\n                  })}\n                </p>\n              </div>\n              <div className=\"comment-content\">\n                <p>{comment.content}</p>\n              </div>\n            </li>\n          ))}\n      </ul>\n\n      <form className=\"add-comment\" onSubmit={handleSubmit}>\n        <label>\n          <span>Add new comment</span>\n          <textarea\n            required\n            onChange={(e) => setNewComment(e.target.value)}\n            value={newComment}\n          ></textarea>\n        </label>\n        <button className=\"btn\">Add Comment</button>\n      </form>\n    </div>\n  );\n}\n","import { useParams } from \"react-router-dom\";\nimport { useDocument } from \"../../hooks/useDocument\";\nimport EventSummary from \"./EventSummary\";\n\n// Styles\nimport \"./Event.css\";\nimport EventComments from \"./EventComments\";\n\nexport default function Event() {\n  const { id } = useParams();\n  const { error, document } = useDocument(\"events\", id);\n\n  if (error) {\n    return <div className=\"error\">{error}</div>;\n  }\n\n  if (!document) {\n    return <div className=\"loading\">Loading...</div>;\n  }\n\n  return (\n    <div className=\"event-details\">\n      <EventSummary event={document} />\n      <EventComments event={document} />\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { projectFirestore } from \"../firebase/config\";\n\nexport const useDocument = (collection, id) => {\n  const [document, setDocument] = useState(null);\n  const [error, setError] = useState(null);\n\n  // Realtime data for documents\n  useEffect(() => {\n    const ref = projectFirestore.collection(collection).doc(id);\n\n    const unsubscribe = ref.onSnapshot(\n      (snapshot) => {\n        if (snapshot.data()) {\n          setDocument({ ...snapshot.data(), id: snapshot.id });\n          setError(null);\n        } else {\n          setError(\"No such document exists\");\n        }\n      },\n      (err) => {\n        console.log(err.message);\n        setError(\"Failed to get document\");\n      }\n    );\n\n    return () => unsubscribe();\n  }, [collection, id]);\n\n  return { document, error };\n};\n","import { useEffect, useState } from \"react\";\nimport { projectAuth, projectFirestore } from \"../firebase/config\";\nimport { useAuthContext } from \"./useAuthContext\";\n\nexport const useLogout = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n\n  const logout = async () => {\n    setError(null);\n    setIsPending(true);\n\n    try {\n      // update online status\n      const { uid } = projectAuth.currentUser;\n      await projectFirestore\n        .collection(\"users\")\n        .doc(uid)\n        .update({ online: false });\n\n      // sign the user out\n      await projectAuth.signOut();\n\n      // dispatch logout action\n      dispatch({ type: \"LOGOUT\" });\n\n      // update state\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { logout, error, isPending };\n};\n","export default __webpack_public_path__ + \"static/media/boxing-glove.b58865ab.svg\";","import { Link } from \"react-router-dom\";\nimport { useLogout } from \"../hooks/useLogout\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\n\n// Styles & Images\nimport \"./Navbar.css\";\nimport Gloves from \"../assets/boxing-glove.svg\";\n\nexport default function Navbar() {\n  const { logout, isPending } = useLogout();\n  const { user, authIsReady } = useAuthContext();\n\n  return (\n    <div className=\"navbar\">\n      <ul>\n        <li className=\"logo\">\n          <img src={Gloves} alt=\"fight life logo\" />\n          <span>Fight Life</span>\n        </li>\n        {!user && (\n          <>\n            <li>\n              <Link to=\"/login\">Login</Link>\n            </li>\n            <li>\n              <Link to=\"/signup\">Signup</Link>\n            </li>\n          </>\n        )}\n\n        {user && (\n          <li>\n            {!isPending && (\n              <button className=\"btn\" onClick={logout}>\n                Logout\n              </button>\n            )}\n            {isPending && (\n              <button className=\"btn\" disabled>\n                Logging out...\n              </button>\n            )}\n          </li>\n        )}\n      </ul>\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/dashboard_icon.bc800f3b.svg\";","export default __webpack_public_path__ + \"static/media/add_icon.376e9b6a.svg\";","import { NavLink } from \"react-router-dom\";\nimport Avatar from \"./Avatar\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\n\n// Styles & Images\nimport \"./Sidebar.css\";\nimport DashboardIcon from \"../assets/dashboard_icon.svg\";\nimport AddIcon from \"../assets/add_icon.svg\";\n\nexport default function Sidebar() {\n  const { user } = useAuthContext();\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebar-content\">\n        <div className=\"user\">\n          <Avatar src={user.photoURL} />\n          <p>{user.displayName}</p>\n        </div>\n        <nav className=\"links\">\n          <ul>\n            <li>\n              <NavLink exact to=\"/\">\n                <img src={DashboardIcon} alt=\"dashboard icon\" />\n                <span>Dashboard</span>\n              </NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/create\">\n                <img src={AddIcon} alt=\"add project icon\" />\n                <span>New Event</span>\n              </NavLink>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </div>\n  );\n}\n","import { useCollection } from \"../hooks/useCollection\";\nimport Avatar from \"./Avatar\";\n\n// styles\nimport \"./OnlineUsers.css\";\n\nexport default function OnlineUsers() {\n  const { error, documents } = useCollection(\"users\");\n\n  return (\n    <div className=\"user-list\">\n      <h2>All Users</h2>\n\n      {error && <div className=\"error\">{error}</div>}\n\n      {documents &&\n        documents.map((user) => (\n          <div key={user.id} className=\"user-list-item\">\n            {user.online && <span className=\"online-user\"></span>}\n            <span>{user.displayName}</span>\n            <Avatar src={user.photoURL} />\n          </div>\n        ))}\n    </div>\n  );\n}\n","import { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { useAuthContext } from \"./hooks/useAuthContext\";\n\n// Styles\nimport \"./App.css\";\n\n// Pages and Components\nimport Dashboard from \"./pages/dashboard/Dashboard\";\nimport Create from \"./pages/create/Create\";\nimport Login from \"./pages/login/Login\";\nimport Signup from \"./pages/signup/Signup\";\nimport Event from \"./pages/event/Event\";\nimport Navbar from \"./components/Navbar\";\nimport Sidebar from \"./components/Sidebar\";\nimport OnlineUsers from \"./components/OnlineUsers\";\n\nfunction App() {\n  const { user, authIsReady } = useAuthContext();\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter>\n          {user && <Sidebar />}\n          <div className=\"container\">\n            <Navbar />\n            <Switch>\n              <Route exact path=\"/\">\n                {!user && <Redirect to=\"/login\" />}\n                {user && <Dashboard />}\n              </Route>\n              <Route path=\"/create\">\n                {!user && <Redirect to=\"/login\" />}\n                {user && <Create />}\n              </Route>\n              <Route path=\"/events/:id\">\n                {!user && <Redirect to=\"/login\" />}\n                {user && <Event />}\n              </Route>\n              <Route path=\"/login\">\n                {user && <Redirect to=\"/\" />}\n                {!user && <Login />}\n              </Route>\n              <Route path=\"/signup\">\n                {user && <Redirect to=\"/\" />}\n                {!user && <Signup />}\n              </Route>\n            </Switch>\n          </div>\n          {user && <OnlineUsers />}\n        </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./context/AuthContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}